var r="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var i={};var s={exports:i};(function(){var i={VERSION:"0.01",GROUPS:{0:{name:"English speaking area",ranges:[["00","19"],["200","699"],["7000","8499"],["85000","89999"],["900000","949999"],["9500000","9999999"]]},1:{name:"English speaking area",ranges:[["00","09"],["100","399"],["4000","5499"],["55000","86979"],["869800","998999"]]},4:{name:"Japan",ranges:[["00","19"],["200","699"],["7000","8499"],["85000","89999"],["900000","949999"],["9500000","9999999"]]}},isbn:function(){(this||r).initialize.apply(this||r,arguments)},parse:function(r,s){var e=new i.isbn(r,s||i.GROUPS);return e.isValid()?e:null},hyphenate:function(r){var s=i.parse(r);return s?s.isIsbn13()?s.asIsbn13(true):s.asIsbn10(true):null},asIsbn13:function(r,s){var e=i.parse(r);return e?e.asIsbn13(s):null},asIsbn10:function(r,s){var e=i.parse(r);return e?e.asIsbn10(s):null}};i.isbn.prototype={isValid:function(){return(this||r).codes&&(this||r).codes.isValid},isIsbn13:function(){return this.isValid()&&(this||r).codes.isIsbn13},isIsbn10:function(){return this.isValid()&&(this||r).codes.isIsbn10},asIsbn10:function(i){return this.isValid()?i?(this||r).codes.isbn10h:(this||r).codes.isbn10:null},asIsbn13:function(i){return this.isValid()?i?(this||r).codes.isbn13h:(this||r).codes.isbn13:null},initialize:function(i,s){(this||r).groups=s;(this||r).codes=this.parse(i)},merge:function(r,i){var s;if(!r||!i)return null;for(s in i)i.hasOwnProperty(s)&&(r[s]=i[s]);return r},parse:function(r){var i;r+="";i=r.match(/^\d{9}[\dX]$/)?this.fill(this.merge({source:r,isValid:true,isIsbn10:true,isIsbn13:false},this.split(r))):13===r.length&&r.match(/^(\d+)-(\d+)-(\d+)-([\dX])$/)?this.fill({source:r,isValid:true,isIsbn10:true,isIsbn13:false,group:RegExp.$1,publisher:RegExp.$2,article:RegExp.$3,check:RegExp.$4}):r.match(/^(978|979)(\d{9}[\dX]$)/)?this.fill(this.merge({source:r,isValid:true,isIsbn10:false,isIsbn13:true,prefix:RegExp.$1},this.split(RegExp.$2))):17===r.length&&r.match(/^(978|979)-(\d+)-(\d+)-(\d+)-([\dX])$/)?this.fill({source:r,isValid:true,isIsbn10:false,isIsbn13:true,prefix:RegExp.$1,group:RegExp.$2,publisher:RegExp.$3,article:RegExp.$4,check:RegExp.$5}):null;return i?this.merge(i,{isValid:i.check===(i.isIsbn13?i.check13:i.check10)}):{source:r,isValid:false}},split:function(r){return r?13===r.length?this.merge(this.split(r.substr(3)),{prefix:r.substr(0,3)}):10===r.length?this.splitToObject(r):null:null},splitToArray:function(r){var i,s,e,n,t;i=this.getGroupRecord(r);if(!i)return null;for(s,n=0,t=i.record.ranges.length;n<t;n+=1){s=i.rest.substr(0,i.record.ranges[n][0].length);if(i.record.ranges[n][0]<=s&&i.record.ranges[n][1]>=s){e=i.rest.substr(s.length);return[i.group,s,e.substr(0,e.length-1),e.charAt(e.length-1)]}}return null},splitToObject:function(r){var i=this.splitToArray(r);return i&&4===i.length?{group:i[0],publisher:i[1],article:i[2],check:i[3]}:null},fill:function(i){var s,e,n,t,l,u;if(!i)return null;s=(this||r).groups[i.group];if(!s)return null;e=i.prefix?i.prefix:"978";n=this.calcCheckDigit([i.group,i.publisher,i.article].join(""));if(!n)return null;t=this.calcCheckDigit([e,i.group,i.publisher,i.article].join(""));if(!t)return null;l=[e,i.group,i.publisher,i.article,t];this.merge(i,{isbn13:l.join(""),isbn13h:l.join("-"),check10:n,check13:t,groupname:s.name});if("978"===e){u=[i.group,i.publisher,i.article,n];this.merge(i,{isbn10:u.join(""),isbn10h:u.join("-")})}return i},getGroupRecord:function(i){var s;for(s in(this||r).groups)if(i.match("^"+s+"(.+)"))return{group:s,record:(this||r).groups[s],rest:RegExp.$1};return null},calcCheckDigit:function(r){var i,s;if(r.match(/^\d{9}[\dX]?$/)){i=0;for(s=0;s<9;s+=1)i+=(10-s)*r.charAt(s);i=(11-i%11)%11;return 10===i?"X":String(i)}if(r.match(/(?:978|979)\d{9}[\dX]?/)){i=0;for(s=0;s<12;s+=2)i+=Number(r.charAt(s))+3*r.charAt(s+1);return String((10-i%10)%10)}return null}};var e="object"===typeof window&&window?window:s.exports;e.ISBN=i})();var e=s.exports;const n=s.exports.ISBN;export default e;export{n as ISBN};

